"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[476],{476:function(n,e,t){t.r(e),t.d(e,{default:function(){return R}});var r,o,c,i,u,a,s,f,l,p,h=t(885),d=t(791),m=t(689),x=t(86),v=t(682),g=t(649),Z=t(168),b=t(444),w=t(731),j=(0,b.ZP)(w.rU)(r||(r=(0,Z.Z)(["\n  text-decoration: none;\n  display: block;\n  width: 150px;\n  padding: ","px;\n  border-radius: ",";\n  font-size:  ",";\n  font-weight:",";\n  color:",";\n  margin-top:","px;\n  &:hover,\n  &:focus {\n    color: ",";\n    background-color: ",";\n  }\n"])),(function(n){return n.theme.space[3]}),(function(n){return n.theme.radii.normal}),(function(n){return n.theme.fontSizes.l}),(function(n){return n.theme.fontWeights.bold}),(function(n){return n.theme.colors.text}),(function(n){return n.theme.space[5]}),(function(n){return n.theme.colors.white}),(function(n){return n.theme.colors.blue})),k=b.ZP.p(o||(o=(0,Z.Z)(["\n  text-align: center;\n  font-size:  ",";\n"])),(function(n){return n.theme.fontSizes.l})),y=b.ZP.img(c||(c=(0,Z.Z)(["\n  display: block;\n  width: 300px;\n"]))),P=b.ZP.h2(i||(i=(0,Z.Z)(["\n  text-align: center;\n  font-weight:",";\n"])),(function(n){return n.theme.fontWeights.bold})),_=b.ZP.div(u||(u=(0,Z.Z)(["\n  padding: ","px;\n"])),(function(n){return n.theme.space[3]})),z=b.ZP.p(a||(a=(0,Z.Z)(["\n  margin: ","px;\n  font-size:  ",";\n"])),(function(n){return n.theme.space[3]}),(function(n){return n.theme.fontSizes.m})),S=b.ZP.span(s||(s=(0,Z.Z)(["\n  display: block;\n  margin-bottom: ","px;\n  font-weight:",";\n"])),(function(n){return n.theme.space[3]}),(function(n){return n.theme.fontWeights.bold})),W=b.ZP.ul(f||(f=(0,Z.Z)(["\n  list-style: none;\n  display: flex;\n  justify-content: center;\n"]))),T=b.ZP.li(l||(l=(0,Z.Z)(["\n  margin: ","px;\n"])),(function(n){return n.theme.space[3]})),U=(0,b.ZP)(w.OL)(p||(p=(0,Z.Z)(["\n  display: block;\n  text-decoration: none;\n  font-size:  ",";\n  font-weight:",";\n  color: ",";\n  border-radius: ",";\n  padding:","px;\n  &.active {\n    background-color: ",";\n    color: ",";\n  }\n  &:hover:not(.active),\n  &:focus:not(.active) {\n    color: ",";\n  }\n"])),(function(n){return n.theme.fontSizes.m}),(function(n){return n.theme.fontWeights.bold}),(function(n){return n.theme.colors.text}),(function(n){return n.theme.radii.normal}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.colors.blue}),(function(n){return n.theme.colors.white}),(function(n){return n.theme.colors.blue})),C=t(184),G=[{text:"Cast",path:"cast"},{text:"Reviews",path:"reviews"}],I=function(){return(0,C.jsx)(W,{children:G.map((function(n){var e=n.text,t=n.path;return(0,C.jsx)(T,{children:(0,C.jsx)(U,{to:t,children:e})},t)}))})},L=t(262),O=function(n){var e=n.movieDetails,t=e.poster_path,r=e.original_title,o=e.release_date,c=e.vote_average,i=e.overview,u=e.genres;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(v.x,{display:"flex",maxWidth:900,mx:"auto",children:[(0,C.jsx)(y,{src:t?"https://image.tmdb.org/t/p/w342".concat(t):L,alt:r}),(0,C.jsxs)(_,{children:[(0,C.jsx)(P,{children:"".concat(r," (").concat(o.substring(0,4),")")}),(0,C.jsx)(z,{children:"User score: ".concat(Math.round(10*c),"%")}),(0,C.jsxs)(z,{children:[(0,C.jsx)(S,{children:"Overview:"}),i||"\u041d\u0435 \u043c\u0430\u0454 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0456"]}),(0,C.jsxs)(z,{children:[(0,C.jsx)(S,{children:"Genres:"}),u.length>0?u.map((function(n){return n.name})).join(", "):"\u041d\u0435 \u043c\u0430\u0454 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0456"]})]})]}),(0,C.jsx)(I,{}),(0,C.jsx)(d.Suspense,{fallback:(0,C.jsx)(g.a,{}),children:(0,C.jsx)(m.j3,{})})]})},R=function(){var n=(0,d.useState)(null),e=(0,h.Z)(n,2),t=e[0],r=e[1],o=(0,d.useState)("idle"),c=(0,h.Z)(o,2),i=c[0],u=c[1],a=(0,m.UO)().movieId,s=(0,m.TH)().state,f=(0,d.useRef)(null!==s&&void 0!==s?s:"/");return(0,d.useEffect)((function(){u("pending"),(0,x.TP)(a).then((function(n){r(n),u("resolved")})).catch((function(){return u("rejected")}))}),[a]),(0,C.jsxs)(v.x,{children:[(0,C.jsx)(j,{to:f.current,children:"Go back"}),"pending"===i&&(0,C.jsx)(g.a,{}),"rejected"===i&&(0,C.jsx)(k,{children:"\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a"}),"resolved"===i&&t&&(0,C.jsx)(O,{movieDetails:t})]})}},86:function(n,e,t){t.d(e,{IQ:function(){return h},Jh:function(){return m},TP:function(){return l},XT:function(){return s},_L:function(){return u}});var r=t(861),o=t(757),c=t.n(o),i=t(44);function u(){return a.apply(this,arguments)}function a(){return(a=(0,r.Z)(c().mark((function n(){var e,t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.ZP.get("/trending/movie/week");case 2:return e=n.sent,t=e.data,n.abrupt("return",t.results);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function s(n){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(c().mark((function n(e){var t,r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.ZP.get("/search/movie?&query=".concat(e));case 2:return t=n.sent,r=t.data,n.abrupt("return",r.results);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function l(n){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(c().mark((function n(e){var t,r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.ZP.get("/movie/".concat(e));case 2:return t=n.sent,r=t.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function h(n){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(c().mark((function n(e){var t,r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.ZP.get("/movie/".concat(e,"/credits"));case 2:return t=n.sent,r=t.data,n.abrupt("return",r.cast);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function m(n){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(c().mark((function n(e){var t,r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.ZP.get("/movie/".concat(e,"/reviews"));case 2:return t=n.sent,r=t.data,n.abrupt("return",r.results);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}i.ZP.defaults.baseURL="https://api.themoviedb.org/3/",i.ZP.defaults.params={api_key:"324a07cbf11f3aed45ef70fac807eb23",page:1,per_page:20}},262:function(n,e,t){n.exports=t.p+"static/media/noImage.280749e503f47aa9a99c.PNG"}}]);
//# sourceMappingURL=476.ff0f885d.chunk.js.map