{"version":3,"file":"static/js/550.ce2865e4.chunk.js","mappings":"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","sources":["components/MoviesDetails/MoviesDetails.styled.jsx","components/MoviesDetails/DetailsLinks.jsx","utils/localstorage.js","components/MoviesDetails/MovieDescription.jsx","components/MoviesDetails/MoviesDetails.jsx","utils/api.js"],"sourcesContent":["import styled from 'styled-components';\nimport { Link, NavLink } from 'react-router-dom';\n\nexport const GoBack = styled(Link)`\n  text-decoration: none;\n  display: block;\n  width: 150px;\n  padding: ${props => props.theme.space[3]}px;\n  border-radius: ${props => props.theme.radii.normal};\n  font-size:  ${props => props.theme.fontSizes.l};\n  font-weight:${props => props.theme.fontWeights.bold};\n  color:${props => props.theme.colors.text};\n  margin-top:${props => props.theme.space[5]}px;\n  &:hover,\n  &:focus {\n    color: ${props => props.theme.colors.white};\n    background-color: ${props => props.theme.colors.blue};\n  }\n`;\n\nexport const Message = styled.p`\n  text-align: center;\n  font-size:  ${props => props.theme.fontSizes.l};\n`;\n\nexport const MovieImage = styled.img`\n  display: block;\n  width: 300px;\n`;\n\nexport const Title = styled.h2`\n  text-align: center;\n  font-weight:${props => props.theme.fontWeights.bold};\n`;\n\nexport const Wrapper = styled.div`\n  padding: ${props => props.theme.space[3]}px;\n`;\n\nexport const Description = styled.p`\n  margin: ${props => props.theme.space[3]}px;\n  font-size:  ${props => props.theme.fontSizes.m};\n`;\n\nexport const SubTitle = styled.span`\n  display: block;\n  margin-bottom: ${props => props.theme.space[3]}px;\n  font-weight:${props => props.theme.fontWeights.bold};\n`;\n\nexport const DetailsLinksList = styled.ul`\n  list-style: none;\n  display: flex;\n  justify-content: center;\n`;\n\nexport const DetailsLinksItem = styled.li`\n  margin: ${props => props.theme.space[3]}px;\n`;\n\nexport const DetailsLink = styled(NavLink)`\n  display: block;\n  text-decoration: none;\n  font-size:  ${props => props.theme.fontSizes.m};\n  font-weight:${props => props.theme.fontWeights.bold};\n  color: ${props => props.theme.colors.text};\n  border-radius: ${props => props.theme.radii.normal};\n  padding:${props => props.theme.space[3]}px;\n  &.active {\n    background-color: ${props => props.theme.colors.blue};\n    color: ${props => props.theme.colors.white};\n  }\n  &:hover:not(.active),\n  &:focus:not(.active) {\n    color: ${props => props.theme.colors.blue};\n  }\n`;\n\nexport const  AddBtn = styled.button`\n  width: 180px;\n  font-size:  ${props => props.theme.fontSizes.s};\n  border-radius: ${props => props.theme.radii.normal};\n  padding:${props => props.theme.space[4]}px;\n  color:${props => props.theme.colors.white};\n  background-color: ${props => props.theme.colors.green};\n  border: none;\n  cursor: pointer;\n  &.active {\n    background-color: ${props => props.theme.colors.blue};\n  }\n`;","import { DetailsLinksList, DetailsLinksItem, DetailsLink } from './MoviesDetails.styled';\n\nconst additionalLinks = [\n  { text: 'Cast', path: 'cast' },\n  { text: 'Reviews', path: 'reviews' },\n];\n\nexport const DetailsLinks = () => {\n    return (\n    <DetailsLinksList>\n        {additionalLinks.map(({ text, path }) => (\n            <DetailsLinksItem key={path}>\n                <DetailsLink to={path}>{text}</DetailsLink>\n            </DetailsLinksItem>\n        ))}\n    </DetailsLinksList>\n    )\n};","export function getLocalStorage(key) {\n  try {\n    const savedMovies = localStorage.getItem(key) ?? '[]';\n    const parsedMovies = JSON.parse(savedMovies);\n    return parsedMovies;\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nexport function setLocalStorage(key, value) {\n  try {\n    const savedMovies = getLocalStorage(key);\n    let newMovie;\n    let isAdded;\n\n    if (savedMovies.some(data => data.id === value.id)) {\n      newMovie = savedMovies.filter(data => data.id !== value.id);\n      isAdded = false;\n    } else {\n      newMovie = [...savedMovies, value];\n      isAdded = true;\n    }\n    localStorage.setItem(key, JSON.stringify(newMovie));\n    return isAdded;\n  } catch (error) {\n    console.log(error.message);\n  }\n}","import { Box } from '../Box/Box';\nimport { Suspense } from 'react';\nimport { Outlet } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport { DetailsLinks } from './DetailsLinks';\nimport { Loader } from 'components/Loader/Loader';\nimport noImage from '../../images/noImage.PNG';\nimport PropTypes from 'prop-types';\nimport { getLocalStorage, setLocalStorage } from '../../utils/localstorage';\nimport {\n    MovieImage,\n    Wrapper,\n    Title,\n    SubTitle,\n    Description,\n    AddBtn,\n} from './MoviesDetails.styled';\n\n\nexport const MovieDescription = ({ movieDetails }) => {\n    const { poster_path, original_title, release_date, vote_average, overview, genres } = movieDetails;\n    const [isAddToLibrary, setIsAddToLibrary] = useState(false);\n    \n    useEffect(() => {\n    const savedMovies = getLocalStorage('myfilms');\n    if (savedMovies && savedMovies.some(data => data.id === movieDetails.id)) {\n      setIsAddToLibrary(true);}\n    }, [movieDetails.id]);\n\n    function addToLibrary() {\n    const isAdded = setLocalStorage('myfilms', movieDetails);\n    setIsAddToLibrary(isAdded);\n    }\n\n    return (\n    <>\n        <Box display='flex' maxWidth={900} mx='auto'>\n            <MovieImage src={poster_path ? `https://image.tmdb.org/t/p/w342${poster_path}`: noImage} alt={original_title}/>\n            <Wrapper>\n                <Title>{`${original_title} (${release_date.substring(0, 4)})`}</Title>\n                <Description>{`User score: ${Math.round(vote_average * 10)}%`}</Description>\n                <Description><SubTitle>Overview:</SubTitle>{overview ? overview : 'Не має інформаціі'}</Description>\n                <Description><SubTitle>Genres:</SubTitle>{genres.length > 0 ? genres.map(genre => genre.name).join(', ') : 'Не має інформаціі'}</Description>\n                <AddBtn type=\"button\" onClick={addToLibrary} className={isAddToLibrary && 'active'}>{isAddToLibrary ? 'Remove from Library' : 'Add to Library'}</AddBtn>\n            </Wrapper>\n        </Box>\n        \n        <DetailsLinks />\n        <Suspense fallback={<Loader />}>\n            <Outlet />\n        </Suspense>\n    </>\n    )\n};\n\nMovieDescription.propTypes = {\n  movieDetails: PropTypes.shape({\n    poster_path: PropTypes.string,\n    original_title: PropTypes.string.isRequired,\n    release_date: PropTypes.string.isRequired,\n    vote_average: PropTypes.number.isRequired,\n    overview: PropTypes.string,\n    genres: PropTypes.array,\n  }).isRequired,\n};","import { useState, useEffect, useRef } from 'react';\nimport { useLocation, useParams } from 'react-router-dom';\nimport { getMovieDetails } from '../../utils/api';\nimport { Box } from '../Box/Box';\nimport { Loader } from '../Loader/Loader'\nimport { MovieDescription } from './MovieDescription';\nimport { GoBack, Message } from './MoviesDetails.styled';\n\n\nconst MovieDetails = () => {\n  const [movieDetails, setMovieDetails] = useState(null);\n  const [status, setStatus] = useState('idle');\n  const { movieId } = useParams();\n  const { state: prevLocation } = useLocation();\n  const linkGoBack = useRef(prevLocation ?? '/');\n\n  useEffect(() => {\n    setStatus('pending');\n\n    getMovieDetails(movieId)\n      .then(result => {\n        setMovieDetails(result);\n        setStatus('resolved');\n      })\n      .catch(() => setStatus('rejected'));\n  }, [movieId]);\n\n  return (\n    <Box>\n        <GoBack to={linkGoBack.current}>{'Go back'}</GoBack>\n        {status === 'pending' && <Loader />}\n        {status === 'rejected' && (<Message>Щось пішло не так</Message>)}\n        {status === 'resolved' && movieDetails && (<MovieDescription movieDetails={movieDetails} />)}\n    </Box>\n  );\n};\n\nexport default MovieDetails;","import axios from 'axios';\n\nconst KEY = '324a07cbf11f3aed45ef70fac807eb23';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\naxios.defaults.params = {\n  api_key: KEY,\n};\n\nexport async function getPopularMovies(page) {\n  const response = await axios.get('/trending/movie/week', {\n    params: { ...axios.defaults.params, page },\n  })\n  return response.data;\n}\n\nexport async function getMovies(query) {\n  const { data } = await axios.get(`/search/movie?&query=${query}`);\n  return data.results;\n}\n\nexport async function getMovieDetails(movieId) {\n  const { data } = await axios.get(`/movie/${movieId}`);\n  return data;\n}\n\nexport async function getCast(movieId) {\n  const { data } = await axios.get(`/movie/${movieId}/credits`);\n  return data.cast;\n}\n\nexport async function getReviews(movieId) {\n  const { data } = await axios.get(`/movie/${movieId}/reviews`);\n  return data.results;\n}"],"names":["GoBack","styled","Link","props","theme","space","radii","normal","fontSizes","l","fontWeights","bold","colors","text","white","blue","Message","MovieImage","Title","Wrapper","Description","m","SubTitle","DetailsLinksList","DetailsLinksItem","DetailsLink","NavLink","AddBtn","s","green","additionalLinks","path","DetailsLinks","map","to","getLocalStorage","key","savedMovies","localStorage","getItem","JSON","parse","error","console","log","message","MovieDescription","movieDetails","poster_path","original_title","release_date","vote_average","overview","genres","useState","isAddToLibrary","setIsAddToLibrary","useEffect","some","data","id","Box","display","maxWidth","mx","src","noImage","alt","substring","Math","round","length","genre","name","join","type","onClick","isAdded","value","newMovie","filter","setItem","stringify","setLocalStorage","className","Suspense","fallback","Loader","setMovieDetails","status","setStatus","movieId","useParams","prevLocation","useLocation","state","linkGoBack","useRef","getMovieDetails","then","result","catch","current","getPopularMovies","page","axios","params","response","getMovies","query","results","getCast","cast","getReviews","api_key"],"sourceRoot":""}